== Java 14 Records

Java 14 introduced https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html[Record] as a lightweight, immutable alternative to POJOs.
You can map annotated records as entities.

We have a full example at https://github.com/DataStax-Examples/object-mapper-jvm/tree/master/record[DataStax-Examples/object-mapper-jvm/record].

NOTE: records are a *preview feature* of Java 14.
As such the mapper's support for them is also provided as a preview.

=== Writing the model

Annotate your records like regular classes:

[source,java]
----
@Entity
record Product(@PartitionKey int id, String description) {}
----

Records are immutable and use the link:../../entities#getter-style[fluent getter style], but you don't need to declare that explicitly with https://docs.datastax.com/en/drivers/java/4.14/com/datastax/oss/driver/api/mapper/annotations/PropertyStrategy.html[@PropertyStrategy]: the mapper detects when it's processing a record, and will assume `mutable = false, getterStyle = FLUENT` by default.

=== Building

You need to build with Java 14, and pass the `--enable-preview` flag to both the compiler and the runtime JVM.
See https://github.com/DataStax-Examples/object-mapper-jvm/blob/master/record/pom.xml[pom.xml] in the example.
